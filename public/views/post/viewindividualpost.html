<div ng-init="initialize()" class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

            <p class="md-display-1" href="#/view/post/{{post._id}}">{{post.title}}</p>
            <p class="title" style="padding: 0px; margin: 0px; text-transform: capitalize;">Posted By:<a href="#/view/user/{{post.postedBy._id}}">{{post.postedBy.username}}</a></p>

            <img style="width: 100%; height: 2px;" src="../../images/line.png" />
            <p>{{post.content}}</p>
            <img style="width: 100%; height: 2px;" src="../../images/line.png" />
        </div>
    </div>
    <!--
    <p>Tags:</p>
    <ol>
        <li ng-repeat="tag in post.tags">
            <a href="#/view/tag/{{tag._id}}">{{tag.hashtag}}</a>
        </li>
    </ol>

    
    <p>Comments:</p>
    <ul>
        <li ng-repeat="c in post.comments">
            {{c.comment}} by <a href="#/view/user/{{c.commentedBy._id}}">{{c.commentedBy.username}}</a>
        </li>
    </ul>
    -->
    <div style="padding-bottom:8px">
        <span ng-repeat="tag in post.tags">
            <a class="btn btn-purple" href="#/view/tag/{{tag._id}}">{{tag.hashtag}}</a>
        </span>
    </div>

    
    <md-toolbar class="md-theme-dark" ng-hide="post.comments.length===0">
    <h2 class="md-toolbar-tools">
        <span>Comments</span>
    </h2>
    </md-toolbar>
    <md-content>
        <md-list>
            <md-list-item class="md-3-line" ng-repeat="c in post.comments">
                <img ng-src="{{c.commentedBy.imgUrl || defaultIcon}}" class="face">
                
                <div class="md-list-item-text">
                    {{c.comment}}
                    <h4>
                        <a href="#/view/user/{{c.commentedBy._id}}">{{c.commentedBy.username}}</a>
                    </h4>
                    <!--<p>{{item.notes}}</p>-->
                </div>
                <md-divider ng-if="!$last"></md-divider>
            </md-list-item>
        </md-list>
    </md-content>

    <div class="row" ng-show="currentUser">
        <div class="col-xs-12 col-sm-12 col-md-10 col-lg-10">
            <textarea id="comment" class="form-control" ng-model="newcomment.comment" placeholder="Add a comment"></textarea>
        </div>
        <div class="col-xs-0 col-sm-0 col-md-2 col-lg-2">
            <button class="btn btn-block btn-primary" ng-click="addComment(newcomment)">Add comment</button>
        </div>
    </div>
    
    
    <div class="row" ng-show="post.postedBy._id === currentUser._id">
        <img style="width: 100%; height: 2px;" src="../../images/line.png" />
        <div class="col-xs-1 col-sm-4 col-md-4 col-lg-4"></div>
        <div class="col-xs-10 col-sm-4 col-md-4 col-lg-4">
            <button class="btn btn-danger btn-block" ng-click="showConfirm($event, post._id)">Delete Post</button>
        </div>
        <div class="col-xs-1 col-sm-4 col-md-4 col-lg-4"></div>
    </div>


</div>